/*!
 * Postman BDD v4.3.0 (April 8th 2017)
 * 
 * https://bigstickcarpet.github.io/postman-bdd
 * 
 * @author  James Messinger (http://jamesmessinger.com)
 * @license MIT
 */
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.postmanBDD=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function chaiHttp(e,t){function o(e){var t=contentTypes[e];a.addProperty(e,function(){var o=getHeader(this._obj,"content-type");this.assert(o&&o.indexOf(t)>=0,"expected the response type to be #{exp} but got #{act}","expected the response type to not be #{exp} (#{act})",e,o||"<content-type-not-set>")})}var a=e.Assertion;a.addMethod("status",function(e){new a(this._obj).to.have.property("status");var t=this._obj.status;this.assert(t===e,"expected the response to have status code #{exp} but got #{act}","expected the response to not have status code #{act}",e,t)}),a.addProperty("headers",function(){var e=this._obj.method?"request":"response";this.assert(Object.keys(this._obj.headers||{}).length>0,"expected the "+e+" to have headers","expected the "+e+" to not have any headers")}),a.addMethod("header",function(e,t){var o=getHeader(this._obj,e),a=void 0!==o&&null!==o;arguments.length<2?this.assert(a,"expected header #{exp} to exist","expected header #{exp} to not exist",e,o):t instanceof RegExp?this.assert(a&&t.test(o),"expected header '"+e+"' to match #{exp} but got #{act}","expected header '"+e+"' to not match #{exp} but got #{act}",t,a?o:"<header-not-set>"):this.assert(a&&o===t,"expected header '"+e+"' to have value #{exp} but got #{act}","expected header '"+e+"' to not have value #{exp}",t,a?o:"<header-not-set>")}),a.addProperty("ip",function(){this.assert(isIP(this._obj),"expected #{this} to be an ip","expected #{this} to not be an ip")}),Object.keys(contentTypes).forEach(o),a.addProperty("redirect",function(){var e=this._obj.status;this.assert(wasRedirected(this._obj),"expected redirect status code but got "+e,"expected not to redirect but got "+e+" status")}),a.addMethod("redirectTo",function(e){var t=this._obj.redirects,o=wasRedirected(this._obj),a=this._obj.status,s=getHeader(this._obj,"location");t&&t.length?this.assert(t.indexOf(e)>-1,"expected redirect to "+e+" but got "+t.join(" then "),"expected not to redirect to "+e+" but got "+t.join(" then ")):this.assert(o&&s===e,"expected redirect to #{exp} but got #{act}","expected not to redirect to #{exp}",e,o?s:a)}),a.addProperty("params",function(){var e=url.parse(this._obj.url,!0).query;this.assert(Object.keys(e).length>0,"expected the request to have query parameters","expected the request to not have any query parameters")}),a.addMethod("param",function(e,t){var o=url.parse(this._obj.url,!0).query,a=o[e],s=void 0!==a&&null!==a;arguments.length<2?this.assert(s,"expected query parameter #{exp} to exist","expected query parameter #{exp} to not exist",e,a):t instanceof RegExp?this.assert(s&&t.test(a),"expected query parameter '"+e+"' to match #{exp} but got #{act}","expected query parameter '"+e+"' to not match #{exp} but got #{act}",t,s?a:"<parameter-does-not-exist>"):this.assert(s&&a===t,"expected query parameter '"+e+"' to have value #{exp} but got #{act}","expected query parameter '"+e+"' to not have value #{exp}",t,s?a:"<parameter-does-not-exist>")}),a.addProperty("cookies",function(){var e=this._obj.method?"request":"response",t=getCookies(this._obj);this.assert(t.length>0,"expected the "+e+" to have cookies","expected the "+e+" to not have any cookies")}),a.addMethod("cookie",function(e,t){var o=getCookie(this._obj,e)||{},a=void 0!==o.value&&null!==o.value;arguments.length<2?this.assert(a,"expected cookie #{exp} to exist","expected cookie #{exp} to not exist",e,o.value):t instanceof RegExp?this.assert(a&&t.test(o.value),"expected cookie '"+e+"' to match #{exp} but got #{act}","expected cookie '"+e+"' to not match #{exp} but got #{act}",t,a?o.value:"<cookie-not-set>"):this.assert(a&&o.value===t,"expected cookie '"+e+"' to have value #{exp} but got #{act}","expected cookie '"+e+"' to not have value #{exp}",t,a?o.value:"<cookie-not-set>")}),e.Assertion.addMethod("schema",function(e){var o=tv4.validate(this._obj,e),a=t.flag(this,"negate");if(o&&a||!o&&!a){var s=tv4.error.dataPath,r=tv4.error.schemaPath,i=tv4.error.message;if(s){var c=s.substr(1).split("/").join(".");i=c+" is invalid. "+i}var n=new SyntaxError(i);throw n.dataPath=s,n.schemaPath=r,n}})}function getHeader(e,t){if(e.getHeader)return e.getHeader(t);t=(t||"").toLowerCase();for(var o=Object.keys(e.headers),a=0;a<o.length;a++)if(o[a].toLowerCase()===t)return e.headers[o[a]]}function getCookies(e){if(e.cookies)return e.cookies;var t=getHeader(e,"cookie");return cookies.parseRequestCookies(t)}function getCookie(e,t){if(e.getCookie)return e.getCookie(t);var o=getCookies(e);return cookies.getCookie(o,t)}function wasRedirected(e){var t=[301,302,303,307,308],o=e.redirects,a=e.status;return t.indexOf(a)>=0||o&&o.length}var isIP=require("is-ip"),url=require("url"),cookies=require("./cookies"),contentTypes={json:"application/json",text:"text/plain",html:"text/html",xml:"application/xml"};module.exports=chaiHttp},{"./cookies":3,"is-ip":48,url:58}],2:[function(require,module,exports){"use strict";function PostmanBDD(){var t=this.state=new State;this.hooks={before:new Hook("before",t),after:new Hook("after",t),beforeEach:new Hook("beforeEach",t),afterEach:new Hook("afterEach",t)},this.before=PostmanBDD.prototype.before.bind(this),this.after=PostmanBDD.prototype.after.bind(this),this.beforeEach=PostmanBDD.prototype.beforeEach.bind(this),this.afterEach=PostmanBDD.prototype.afterEach.bind(this),this.describe=PostmanBDD.prototype.describe.bind(this),this.it=PostmanBDD.prototype.it.bind(this)}var Runnable=require("./runnable"),Hook=require("./hook"),State=require("./state");module.exports=PostmanBDD,PostmanBDD.prototype.before=function(t,e){this.hooks.before.push(t,e)},PostmanBDD.prototype.after=function(t,e){this.hooks.after.push(t,e)},PostmanBDD.prototype.beforeEach=function(t,e){this.hooks.beforeEach.push(t,e)},PostmanBDD.prototype.afterEach=function(t,e){this.hooks.afterEach.push(t,e)},PostmanBDD.prototype.describe=function(t,e){var o=new Runnable("describe",this.state,t,e);return this.state.stack.push(o),this.oneTimeInitialization(),o.run(),this.state.isFinished()&&this.hooks.after.run(),this.state.stack.pop(),this.state.results},PostmanBDD.prototype.it=function(t,e){var o=new Runnable("it",this.state,t,e);return this.state.stack.push(o),this.oneTimeInitialization(),this.hooks.beforeEach.run(),o.run(),this.hooks.afterEach.run(),this.state.stack.pop(),o.result},PostmanBDD.prototype.oneTimeInitialization=function(){this.state.isStarted()||this.hooks.before.run()}},{"./hook":4,"./runnable":9,"./state":10}],3:[function(require,module,exports){"use strict";var CookieJar=require("cookiejar").CookieJar,CookieAccessInfo=require("cookiejar").CookieAccessInfo;module.exports={getCookie:function(e,o){o=(o||"").toLowerCase();var r=e.find(function(e){return e&&e.name.toLowerCase()===o});return r},parseRequestCookies:function(e){var o=new CookieJar;if(e){var r=e.split(";").map(function(e){return e.trim()});o.setCookies(r)}var i=o.getCookies(CookieAccessInfo.All);return i},parseResponseCookies:function(e){var o=new CookieJar;e&&o.setCookies(e);var r=o.getCookies(CookieAccessInfo.All);return r}}},{cookiejar:47}],4:[function(require,module,exports){"use strict";function Hook(t,s){this.type=t,this.state=s,this.runnables=[]}var Runnable=require("./runnable");module.exports=Hook,Hook.prototype.run=function(){var t=this;this.state.inAHook()||this.runnables.forEach(function(s){t.state.stack.push(s),s.run(),t.state.stack.pop()})},Hook.prototype.push=function(t,s){var n=new Runnable(this.type,this.state,t,s);n.isHook=!0,this.runnables.push(n)}},{"./runnable":9}],5:[function(require,module,exports){function initPostmanBDD(){log.info("Using Postman BDD"),initBDD(),initSuperAgent(),initChai()}function initBDD(){var e=new PostmanBDD;before=e.before,after=e.after,beforeEach=e.beforeEach,afterEach=e.afterEach,describe=e.describe,it=e.it}function initSuperAgent(){response=new superAgent.Response}function initChai(){chai=require("chai"),assert=chai.assert,expect=chai.expect,chai.should(),chai.use(assertions)}var PostmanBDD=require("./bdd"),superAgent=require("./response"),assertions=require("./assertions"),options=require("./options"),log=require("./log");module.exports=options,module.exports.reset=initPostmanBDD,initPostmanBDD()},{"./assertions":1,"./bdd":2,"./log":6,"./options":7,"./response":8,chai:11}],6:[function(require,module,exports){"use strict";var options=require("./options"),levels=["silent","error","warn","info","debug"],log=module.exports={isEnabled:function(e){return levels.indexOf(options.logLevel)>=levels.indexOf(e)},errorToPOJO:function(e){if(e&&"object"==typeof e)return Object.keys(e).concat(["name","message","stack"]).reduce(function(o,n){return o[n]=e[n],o},{})}};levels.forEach(function(e){log[e]=function(){if(this.isEnabled(e)){var o=console.log;"function"==typeof console[e]&&(o=console[e]),o.apply(console,arguments)}}})},{"./options":7}],7:[function(require,module,exports){"use strict";module.exports={logLevel:"warn"}},{}],8:[function(require,module,exports){"use strict";function Response(){this.status="object"==typeof responseCode?responseCode.code:0,this.statusType=Math.floor(this.status/100),this.info=1===this.statusType,this.ok=2===this.statusType,this.redirect=3===this.statusType,this.clientError=4===this.statusType,this.serverError=5===this.statusType,this.error=this.clientError||this.serverError,this.accepted=202===this.status,this.noContent=204===this.status||1223===this.status,this.badRequest=400===this.status,this.unauthorized=401===this.status,this.notAcceptable=406===this.status,this.notFound=404===this.status,this.forbidden=403===this.status,this.time="number"==typeof responseTime?responseTime:0,this.headers=this.header=parseHeaders();var e=this.getHeader("content-type")||"",s=/charset=([a-zA-Z0-9_-]+)/i.exec(e);this.type=e.split(";")[0],this.charset=s?s[1]:"",this.cookies=parseCookies(this),this.text="string"==typeof responseBody?responseBody:"",this.body=parseResponeBody(this)}function parseHeaders(){if("object"==typeof responseHeaders){var e=pojo(responseHeaders),s={};return Object.keys(e).forEach(function(t){s[t.toLowerCase()]=e[t]}),s}return{}}function parseCookies(e){if("object"==typeof responseCookies&&responseCookies.length>0)return responseCookies;var s=e.getHeader("set-cookie");return cookies.parseResponseCookies(s)}function parseResponeBody(e){if(e.type.indexOf("json")>=0)try{return JSON.parse(e.text)}catch(e){log.error("Unable to parse the response body as JSON",log.errorToPOJO(e))}if(e.type.indexOf("xml")>=0)try{return pojo(xml2Json(e.text))}catch(e){log.error("Unable to parse the response body as XML",log.errorToPOJO(e))}return e.text}function pojo(e){return JSON.parse(JSON.stringify(e))}var log=require("./log"),cookies=require("./cookies");module.exports={Response:Response},Response.prototype.getHeader=function(e){return"object"==typeof postman&&"function"==typeof postman.getResponseHeader?postman.getResponseHeader(e):(e=(e||"").toLowerCase(),this.headers[e])},Response.prototype.getCookie=function(e){return"object"==typeof postman&&"function"==typeof postman.getResponseCookie?postman.getResponseCookie(e):cookies.getCookie(this.cookies,e)}},{"./cookies":3,"./log":6}],9:[function(require,module,exports){"use strict";function Runnable(t,s,e,i){"function"==typeof e&&(i=e,e=""),s.counters[t]++;var r="it"===t?"test":t;this.type=t,this.state=s,this.isHook=!1,this.isNamed=!!e,this.title=e||r+" #"+s.counters[t],this.fn=i,this.result=null,this.error=null}var log=require("./log");module.exports=Runnable,Runnable.prototype.run=function(){var t=this.state.currentPath();log.debug("Running "+t),"describe"!==this.type&&(this.state.results[t]=null);try{this.fn(),this.success(t)}catch(s){this.failure(s,t)}},Runnable.prototype.success=function(t){log.info("passed: "+t),this.result=!0,"describe"!==this.type&&(this.state.results[t]=!0)},Runnable.prototype.failure=function(t,s){log.error("failed: "+s,log.errorToPOJO(t)),this.result=!1,this.error=t,delete this.state.results[s],this.state.results[s+" ("+t.message+")"]=!1}},{"./log":6}],10:[function(require,module,exports){"use strict";function State(){this.results=resetTests(),this.stack=[],this.counters={describe:0,it:0,before:0,after:0,beforeEach:0,afterEach:0},this._pathCounter=0}function resetTests(){if("object"!=typeof tests)throw new Error('Postman BDD can only run inside the Postman scripting runtime (the "tests" global variable is missing)');return Object.keys(tests).forEach(function(t){delete tests[t]}),tests}module.exports=State,State.prototype.currentPath=function(){var t=this.stack[this.stack.length-1],e="";if("describe"!==t.type&&(e=++this._pathCounter+". "),"before"===t.type||"after"===t.type){var s=this.stack.some(function(t){return"describe"===t.type&&t.isNamed});if(!s)return e+t.title}return e+=this.stack.map(function(t){return t.title}).join(" - ")},State.prototype.isStarted=function(){return this._pathCounter>0},State.prototype.isFinished=function(){return 1===this.stack.length&&this.counters.describe>0},State.prototype.inAHook=function(){return this.stack.some(function(t){return t.isHook})}},{}],11:[function(require,module,exports){module.exports=require("./lib/chai")},{"./lib/chai":12}],12:[function(require,module,exports){/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var used=[],exports=module.exports={};/*!
 * Chai version
 */
exports.version="3.5.0",/*!
 * Assertion Error
 */
exports.AssertionError=require("assertion-error");/*!
 * Utils for plugins (not exported)
 */
var util=require("./chai/utils");exports.use=function(e){return~used.indexOf(e)||(e(this,util),used.push(e)),this},/*!
 * Utility Functions
 */
exports.util=util;/*!
 * Configuration
 */
var config=require("./chai/config");exports.config=config;/*!
 * Primary `Assertion` prototype
 */
var assertion=require("./chai/assertion");exports.use(assertion);/*!
 * Core Assertions
 */
var core=require("./chai/core/assertions");exports.use(core);/*!
 * Expect interface
 */
var expect=require("./chai/interface/expect");exports.use(expect);/*!
 * Should interface
 */
var should=require("./chai/interface/should");exports.use(should);/*!
 * Assert interface
 */
var assert=require("./chai/interface/assert");exports.use(assert)},{"./chai/assertion":13,"./chai/config":14,"./chai/core/assertions":15,"./chai/interface/assert":16,"./chai/interface/expect":17,"./chai/interface/should":18,"./chai/utils":32,"assertion-error":40}],13:[function(require,module,exports){/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var config=require("./config");module.exports=function(e,t){/*!
   * Assertion Constructor
   *
   * Creates object for chaining.
   *
   * @api private
   */
function i(e,t,i){n(this,"ssfi",i||arguments.callee),n(this,"object",e),n(this,"message",t)}/*!
   * Module dependencies.
   */
var o=e.AssertionError,n=t.flag;/*!
   * Module export.
   */
e.Assertion=i,Object.defineProperty(i,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),config.includeStack},set:function(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),config.includeStack=e}}),Object.defineProperty(i,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),config.showDiff},set:function(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),config.showDiff=e}}),i.addProperty=function(e,i){t.addProperty(this.prototype,e,i)},i.addMethod=function(e,i){t.addMethod(this.prototype,e,i)},i.addChainableMethod=function(e,i,o){t.addChainableMethod(this.prototype,e,i,o)},i.overwriteProperty=function(e,i){t.overwriteProperty(this.prototype,e,i)},i.overwriteMethod=function(e,i){t.overwriteMethod(this.prototype,e,i)},i.overwriteChainableMethod=function(e,i,o){t.overwriteChainableMethod(this.prototype,e,i,o)},i.prototype.assert=function(e,i,s,r,c,f){var a=t.test(this,arguments);if(!0!==f&&(f=!1),!0!==config.showDiff&&(f=!1),!a){var i=t.getMessage(this,arguments),d=t.getActual(this,arguments);throw new o(i,{actual:d,expected:r,showDiff:f},config.includeStack?this.assert:n(this,"ssfi"))}},/*!
   * ### ._obj
   *
   * Quick reference to stored `actual` value for plugin developers.
   *
   * @api private
   */
Object.defineProperty(i.prototype,"_obj",{get:function(){return n(this,"object")},set:function(e){n(this,"object",e)}})}},{"./config":14}],14:[function(require,module,exports){module.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},{}],15:[function(require,module,exports){/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(t,e){function s(t,s){s&&k(this,"message",s),t=t.toLowerCase();var o=k(this,"object"),i=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an ":"a ";this.assert(t===e.type(o),"expected #{this} to be "+i+t,"expected #{this} not to be "+i+t)}function o(){k(this,"contains",!0)}function i(t,s){e.expectTypes(this,["array","object","string"]),s&&k(this,"message",s);var o=k(this,"object"),i=!1;if("array"===e.type(o)&&"object"===e.type(t)){for(var n in o)if(e.eql(o[n],t)){i=!0;break}}else if("object"===e.type(t)){if(!k(this,"negate")){for(var a in t)new C(o).property(a,t[a]);return}var h={};for(var a in t)h[a]=o[a];i=e.eql(h,t)}else i=void 0!=o&&~o.indexOf(t);this.assert(i,"expected #{this} to include "+e.inspect(t),"expected #{this} to not include "+e.inspect(t))}function n(){var t=k(this,"object"),e=Object.prototype.toString.call(t);this.assert("[object Arguments]"===e,"expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}function a(t,e){e&&k(this,"message",e);var s=k(this,"object");return k(this,"deep")?this.eql(t):void this.assert(t===s,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",t,this._obj,!0)}function h(t,s){s&&k(this,"message",s),this.assert(e.eql(t,k(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",t,this._obj,!0)}function r(t,e){e&&k(this,"message",e);var s=k(this,"object");if(k(this,"doLength")){new C(s,e).to.have.property("length");var o=s.length;this.assert(o>t,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",t,o)}else this.assert(s>t,"expected #{this} to be above "+t,"expected #{this} to be at most "+t)}function d(t,e){e&&k(this,"message",e);var s=k(this,"object");if(k(this,"doLength")){new C(s,e).to.have.property("length");var o=s.length;this.assert(o>=t,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",t,o)}else this.assert(s>=t,"expected #{this} to be at least "+t,"expected #{this} to be below "+t)}function c(t,e){e&&k(this,"message",e);var s=k(this,"object");if(k(this,"doLength")){new C(s,e).to.have.property("length");var o=s.length;this.assert(o<t,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",t,o)}else this.assert(s<t,"expected #{this} to be below "+t,"expected #{this} to be at least "+t)}function p(t,e){e&&k(this,"message",e);var s=k(this,"object");if(k(this,"doLength")){new C(s,e).to.have.property("length");var o=s.length;this.assert(o<=t,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",t,o)}else this.assert(s<=t,"expected #{this} to be at most "+t,"expected #{this} to be above "+t)}function l(t,s){s&&k(this,"message",s);var o=e.getName(t);this.assert(k(this,"object")instanceof t,"expected #{this} to be an instance of "+o,"expected #{this} to not be an instance of "+o)}function b(t,s){s&&k(this,"message",s);var o=k(this,"object");this.assert(o.hasOwnProperty(t),"expected #{this} to have own property "+e.inspect(t),"expected #{this} to not have own property "+e.inspect(t))}function f(t,s,o){"string"==typeof s&&(o=s,s=null),o&&k(this,"message",o);var i=k(this,"object"),n=Object.getOwnPropertyDescriptor(Object(i),t);n&&s?this.assert(e.eql(s,n),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to match "+e.inspect(s)+", got "+e.inspect(n),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to not match "+e.inspect(s),s,n,!0):this.assert(n,"expected #{this} to have an own property descriptor for "+e.inspect(t),"expected #{this} to not have an own property descriptor for "+e.inspect(t)),k(this,"object",n)}function u(){k(this,"doLength",!0)}function x(t,e){e&&k(this,"message",e);var s=k(this,"object");new C(s,e).to.have.property("length");var o=s.length;this.assert(o==t,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",t,o)}function g(t,e){e&&k(this,"message",e);var s=k(this,"object");this.assert(t.exec(s),"expected #{this} to match "+t,"expected #{this} not to match "+t)}function y(t){var s,o=k(this,"object"),i=!0,n="keys must be given single argument of Array|Object|String, or multiple String arguments";switch(e.type(t)){case"array":if(arguments.length>1)throw new Error(n);break;case"object":if(arguments.length>1)throw new Error(n);t=Object.keys(t);break;default:t=Array.prototype.slice.call(arguments)}if(!t.length)throw new Error("keys required");var a=Object.keys(o),h=t,r=t.length,d=k(this,"any"),c=k(this,"all");if(d||c||(c=!0),d){var p=h.filter(function(t){return~a.indexOf(t)});i=p.length>0}if(c&&(i=t.every(function(t){return~a.indexOf(t)}),k(this,"negate")||k(this,"contains")||(i=i&&t.length==a.length)),r>1){t=t.map(function(t){return e.inspect(t)});var l=t.pop();c&&(s=t.join(", ")+", and "+l),d&&(s=t.join(", ")+", or "+l)}else s=e.inspect(t[0]);s=(r>1?"keys ":"key ")+s,s=(k(this,"contains")?"contain ":"have ")+s,this.assert(i,"expected #{this} to "+s,"expected #{this} to not "+s,h.slice(0).sort(),a.sort(),!0)}function v(t,s,o){o&&k(this,"message",o);var i=k(this,"object");new C(i,o).is.a("function");var n=!1,a=null,h=null,r=null;0===arguments.length?(s=null,t=null):t&&(t instanceof RegExp||"string"==typeof t)?(s=t,t=null):t&&t instanceof Error?(a=t,t=null,s=null):"function"==typeof t?(h=t.prototype.name,(!h||"Error"===h&&t!==Error)&&(h=t.name||(new t).name)):t=null;try{i()}catch(o){if(a)return this.assert(o===a,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",a instanceof Error?a.toString():a,o instanceof Error?o.toString():o),k(this,"object",o),this;if(t&&(this.assert(o instanceof t,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",h,o instanceof Error?o.toString():o),!s))return k(this,"object",o),this;var d="error"===e.type(o)&&"message"in o?o.message:""+o;if(null!=d&&s&&s instanceof RegExp)return this.assert(s.exec(d),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",s,d),k(this,"object",o),this;if(null!=d&&s&&"string"==typeof s)return this.assert(~d.indexOf(s),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",s,d),k(this,"object",o),this;n=!0,r=o}var c="",p=null!==h?h:a?"#{exp}":"an error";n&&(c=" but #{act} was thrown"),this.assert(n===!0,"expected #{this} to throw "+p+c,"expected #{this} to not throw "+p+c,a instanceof Error?a.toString():a,r instanceof Error?r.toString():r),k(this,"object",r)}function w(t,s){s&&k(this,"message",s);var o=k(this,"object"),i=k(this,"itself"),n="function"!==e.type(o)||i?o[t]:o.prototype[t];this.assert("function"==typeof n,"expected #{this} to respond to "+e.inspect(t),"expected #{this} to not respond to "+e.inspect(t))}function m(t,s){s&&k(this,"message",s);var o=k(this,"object"),i=t(o);this.assert(i,"expected #{this} to satisfy "+e.objDisplay(t),"expected #{this} to not satisfy"+e.objDisplay(t),!this.negate,i)}function j(t,s,o){o&&k(this,"message",o);var i=k(this,"object");if(new C(i,o).is.a("number"),"number"!==e.type(t)||"number"!==e.type(s))throw new Error("the arguments to closeTo or approximately must be numbers");this.assert(Math.abs(i-t)<=s,"expected #{this} to be close to "+t+" +/- "+s,"expected #{this} not to be close to "+t+" +/- "+s)}function M(t,e,s){return t.every(function(t){return s?e.some(function(e){return s(t,e)}):e.indexOf(t)!==-1})}function P(t,e){e&&k(this,"message",e);var s=k(this,"object");new C(t).to.be.an("array"),this.assert(t.indexOf(s)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",t,s)}function O(t,e,s){s&&k(this,"message",s);var o=k(this,"object");new C(t,s).to.have.property(e),new C(o).is.a("function");var i=t[e];o(),this.assert(i!==t[e],"expected ."+e+" to change","expected ."+e+" to not change")}function E(t,e,s){s&&k(this,"message",s);var o=k(this,"object");new C(t,s).to.have.property(e),new C(o).is.a("function");var i=t[e];o(),this.assert(t[e]-i>0,"expected ."+e+" to increase","expected ."+e+" to not increase")}function q(t,e,s){s&&k(this,"message",s);var o=k(this,"object");new C(t,s).to.have.property(e),new C(o).is.a("function");var i=t[e];o(),this.assert(t[e]-i<0,"expected ."+e+" to decrease","expected ."+e+" to not decrease")}var C=t.Assertion,k=(Object.prototype.toString,e.flag);["to","be","been","is","and","has","have","with","that","which","at","of","same"].forEach(function(t){C.addProperty(t,function(){return this})}),C.addProperty("not",function(){k(this,"negate",!0)}),C.addProperty("deep",function(){k(this,"deep",!0)}),C.addProperty("any",function(){k(this,"any",!0),k(this,"all",!1)}),C.addProperty("all",function(){k(this,"all",!0),k(this,"any",!1)}),C.addChainableMethod("an",s),C.addChainableMethod("a",s),C.addChainableMethod("include",i,o),C.addChainableMethod("contain",i,o),C.addChainableMethod("contains",i,o),C.addChainableMethod("includes",i,o),C.addProperty("ok",function(){this.assert(k(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),C.addProperty("true",function(){this.assert(!0===k(this,"object"),"expected #{this} to be true","expected #{this} to be false",!this.negate)}),C.addProperty("false",function(){this.assert(!1===k(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!this.negate)}),C.addProperty("null",function(){this.assert(null===k(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),C.addProperty("undefined",function(){this.assert(void 0===k(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),C.addProperty("NaN",function(){this.assert(isNaN(k(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),C.addProperty("exist",function(){this.assert(null!=k(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),C.addProperty("empty",function(){var t=k(this,"object"),e=t;Array.isArray(t)||"string"==typeof object?e=t.length:"object"==typeof t&&(e=Object.keys(t).length),this.assert(!e,"expected #{this} to be empty","expected #{this} not to be empty")}),C.addProperty("arguments",n),C.addProperty("Arguments",n),C.addMethod("equal",a),C.addMethod("equals",a),C.addMethod("eq",a),C.addMethod("eql",h),C.addMethod("eqls",h),C.addMethod("above",r),C.addMethod("gt",r),C.addMethod("greaterThan",r),C.addMethod("least",d),C.addMethod("gte",d),C.addMethod("below",c),C.addMethod("lt",c),C.addMethod("lessThan",c),C.addMethod("most",p),C.addMethod("lte",p),C.addMethod("within",function(t,e,s){s&&k(this,"message",s);var o=k(this,"object"),i=t+".."+e;if(k(this,"doLength")){new C(o,s).to.have.property("length");var n=o.length;this.assert(n>=t&&n<=e,"expected #{this} to have a length within "+i,"expected #{this} to not have a length within "+i)}else this.assert(o>=t&&o<=e,"expected #{this} to be within "+i,"expected #{this} to not be within "+i)}),C.addMethod("instanceof",l),C.addMethod("instanceOf",l),C.addMethod("property",function(t,s,o){o&&k(this,"message",o);var i=!!k(this,"deep"),n=i?"deep property ":"property ",a=k(this,"negate"),h=k(this,"object"),r=i?e.getPathInfo(t,h):null,d=i?r.exists:e.hasProperty(t,h),c=i?r.value:h[t];if(a&&arguments.length>1){if(void 0===c)throw o=null!=o?o+": ":"",new Error(o+e.inspect(h)+" has no "+n+e.inspect(t))}else this.assert(d,"expected #{this} to have a "+n+e.inspect(t),"expected #{this} to not have "+n+e.inspect(t));arguments.length>1&&this.assert(s===c,"expected #{this} to have a "+n+e.inspect(t)+" of #{exp}, but got #{act}","expected #{this} to not have a "+n+e.inspect(t)+" of #{act}",s,c),k(this,"object",c)}),C.addMethod("ownProperty",b),C.addMethod("haveOwnProperty",b),C.addMethod("ownPropertyDescriptor",f),C.addMethod("haveOwnPropertyDescriptor",f),C.addChainableMethod("length",x,u),C.addMethod("lengthOf",x),C.addMethod("match",g),C.addMethod("matches",g),C.addMethod("string",function(t,s){s&&k(this,"message",s);var o=k(this,"object");new C(o,s).is.a("string"),this.assert(~o.indexOf(t),"expected #{this} to contain "+e.inspect(t),"expected #{this} to not contain "+e.inspect(t))}),C.addMethod("keys",y),C.addMethod("key",y),C.addMethod("throw",v),C.addMethod("throws",v),C.addMethod("Throw",v),C.addMethod("respondTo",w),C.addMethod("respondsTo",w),C.addProperty("itself",function(){k(this,"itself",!0)}),C.addMethod("satisfy",m),C.addMethod("satisfies",m),C.addMethod("closeTo",j),C.addMethod("approximately",j),C.addMethod("members",function(t,s){s&&k(this,"message",s);var o=k(this,"object");new C(o).to.be.an("array"),new C(t).to.be.an("array");var i=k(this,"deep")?e.eql:void 0;return k(this,"contains")?this.assert(M(t,o,i),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",o,t):void this.assert(M(o,t,i)&&M(t,o,i),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",o,t)}),C.addMethod("oneOf",P),C.addChainableMethod("change",O),C.addChainableMethod("changes",O),C.addChainableMethod("increase",E),C.addChainableMethod("increases",E),C.addChainableMethod("decrease",q),C.addChainableMethod("decreases",q),C.addProperty("extensible",function(){var t,e=k(this,"object");try{t=Object.isExtensible(e)}catch(e){if(!(e instanceof TypeError))throw e;t=!1}this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")}),C.addProperty("sealed",function(){var t,e=k(this,"object");try{t=Object.isSealed(e)}catch(e){if(!(e instanceof TypeError))throw e;t=!0}this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")}),C.addProperty("frozen",function(){var t,e=k(this,"object");try{t=Object.isFrozen(e)}catch(e){if(!(e instanceof TypeError))throw e;t=!0}this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")})}},{}],16:[function(require,module,exports){/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(e,n){/*!
   * Chai dependencies.
   */
var t=e.Assertion,o=n.flag,i=e.assert=function(n,o){var i=new t(null,null,e.assert);i.assert(n,o,"[ negation message unavailable ]")};i.fail=function(n,t,o,a){throw o=o||"assert.fail()",new e.AssertionError(o,{actual:n,expected:t,operator:a},i.fail)},i.isOk=function(e,n){new t(e,n).is.ok},i.isNotOk=function(e,n){new t(e,n).is.not.ok},i.equal=function(e,n,a){var c=new t(e,a,i.equal);c.assert(n==o(c,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",n,e)},i.notEqual=function(e,n,a){var c=new t(e,a,i.notEqual);c.assert(n!=o(c,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",n,e)},i.strictEqual=function(e,n,o){new t(e,o).to.equal(n)},i.notStrictEqual=function(e,n,o){new t(e,o).to.not.equal(n)},i.deepEqual=function(e,n,o){new t(e,o).to.eql(n)},i.notDeepEqual=function(e,n,o){new t(e,o).to.not.eql(n)},i.isAbove=function(e,n,o){new t(e,o).to.be.above(n)},i.isAtLeast=function(e,n,o){new t(e,o).to.be.least(n)},i.isBelow=function(e,n,o){new t(e,o).to.be.below(n)},i.isAtMost=function(e,n,o){new t(e,o).to.be.most(n)},i.isTrue=function(e,n){new t(e,n).is.true},i.isNotTrue=function(e,n){new t(e,n).to.not.equal(!0)},i.isFalse=function(e,n){new t(e,n).is.false},i.isNotFalse=function(e,n){new t(e,n).to.not.equal(!1)},i.isNull=function(e,n){new t(e,n).to.equal(null)},i.isNotNull=function(e,n){new t(e,n).to.not.equal(null)},i.isNaN=function(e,n){new t(e,n).to.be.NaN},i.isNotNaN=function(e,n){new t(e,n).not.to.be.NaN},i.isUndefined=function(e,n){new t(e,n).to.equal(void 0)},i.isDefined=function(e,n){new t(e,n).to.not.equal(void 0)},i.isFunction=function(e,n){new t(e,n).to.be.a("function")},i.isNotFunction=function(e,n){new t(e,n).to.not.be.a("function")},i.isObject=function(e,n){new t(e,n).to.be.a("object")},i.isNotObject=function(e,n){new t(e,n).to.not.be.a("object")},i.isArray=function(e,n){new t(e,n).to.be.an("array")},i.isNotArray=function(e,n){new t(e,n).to.not.be.an("array")},i.isString=function(e,n){new t(e,n).to.be.a("string")},i.isNotString=function(e,n){new t(e,n).to.not.be.a("string")},i.isNumber=function(e,n){new t(e,n).to.be.a("number")},i.isNotNumber=function(e,n){new t(e,n).to.not.be.a("number")},i.isBoolean=function(e,n){new t(e,n).to.be.a("boolean")},i.isNotBoolean=function(e,n){new t(e,n).to.not.be.a("boolean")},i.typeOf=function(e,n,o){new t(e,o).to.be.a(n)},i.notTypeOf=function(e,n,o){new t(e,o).to.not.be.a(n)},i.instanceOf=function(e,n,o){new t(e,o).to.be.instanceOf(n)},i.notInstanceOf=function(e,n,o){new t(e,o).to.not.be.instanceOf(n)},i.include=function(e,n,o){new t(e,o,i.include).include(n)},i.notInclude=function(e,n,o){new t(e,o,i.notInclude).not.include(n)},i.match=function(e,n,o){new t(e,o).to.match(n)},i.notMatch=function(e,n,o){new t(e,o).to.not.match(n)},i.property=function(e,n,o){new t(e,o).to.have.property(n)},i.notProperty=function(e,n,o){new t(e,o).to.not.have.property(n)},i.deepProperty=function(e,n,o){new t(e,o).to.have.deep.property(n)},i.notDeepProperty=function(e,n,o){new t(e,o).to.not.have.deep.property(n)},i.propertyVal=function(e,n,o,i){new t(e,i).to.have.property(n,o)},i.propertyNotVal=function(e,n,o,i){new t(e,i).to.not.have.property(n,o)},i.deepPropertyVal=function(e,n,o,i){new t(e,i).to.have.deep.property(n,o)},i.deepPropertyNotVal=function(e,n,o,i){new t(e,i).to.not.have.deep.property(n,o)},i.lengthOf=function(e,n,o){new t(e,o).to.have.length(n)},i.throws=function(e,n,i,a){("string"==typeof n||n instanceof RegExp)&&(i=n,n=null);var c=new t(e,a).to.throw(n,i);return o(c,"object")},i.doesNotThrow=function(e,n,o){"string"==typeof n&&(o=n,n=null),new t(e,o).to.not.Throw(n)},i.operator=function(e,i,a,c){var s;switch(i){case"==":s=e==a;break;case"===":s=e===a;break;case">":s=e>a;break;case">=":s=e>=a;break;case"<":s=e<a;break;case"<=":s=e<=a;break;case"!=":s=e!=a;break;case"!==":s=e!==a;break;default:throw new Error('Invalid operator "'+i+'"')}var r=new t(s,c);r.assert(!0===o(r,"object"),"expected "+n.inspect(e)+" to be "+i+" "+n.inspect(a),"expected "+n.inspect(e)+" to not be "+i+" "+n.inspect(a))},i.closeTo=function(e,n,o,i){new t(e,i).to.be.closeTo(n,o)},i.approximately=function(e,n,o,i){new t(e,i).to.be.approximately(n,o)},i.sameMembers=function(e,n,o){new t(e,o).to.have.same.members(n)},i.sameDeepMembers=function(e,n,o){new t(e,o).to.have.same.deep.members(n)},i.includeMembers=function(e,n,o){new t(e,o).to.include.members(n)},i.includeDeepMembers=function(e,n,o){new t(e,o).to.include.deep.members(n)},i.oneOf=function(e,n,o){new t(e,o).to.be.oneOf(n)},i.changes=function(e,n,o){new t(e).to.change(n,o)},i.doesNotChange=function(e,n,o){new t(e).to.not.change(n,o)},i.increases=function(e,n,o){new t(e).to.increase(n,o)},i.doesNotIncrease=function(e,n,o){new t(e).to.not.increase(n,o)},i.decreases=function(e,n,o){new t(e).to.decrease(n,o)},i.doesNotDecrease=function(e,n,o){new t(e).to.not.decrease(n,o)},/*!
   * ### .ifError(object)
   *
   * Asserts if value is not a false value, and throws if it is a true value.
   * This is added to allow for chai to be a drop-in replacement for Node's
   * assert class.
   *
   *     var err = new Error('I am a custom error');
   *     assert.ifError(err); // Rethrows err!
   *
   * @name ifError
   * @param {Object} object
   * @namespace Assert
   * @api public
   */
i.ifError=function(e){if(e)throw e},i.isExtensible=function(e,n){new t(e,n).to.be.extensible},i.isNotExtensible=function(e,n){new t(e,n).to.not.be.extensible},i.isSealed=function(e,n){new t(e,n).to.be.sealed},i.isNotSealed=function(e,n){new t(e,n).to.not.be.sealed},i.isFrozen=function(e,n){new t(e,n).to.be.frozen},i.isNotFrozen=function(e,n){new t(e,n).to.not.be.frozen},/*!
   * Aliases.
   */
function e(n,t){return i[t]=i[n],e}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")}},{}],17:[function(require,module,exports){/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(e,t){e.expect=function(t,n){return new e.Assertion(t,n)},e.expect.fail=function(t,n,o,r){throw o=o||"expect.fail()",new e.AssertionError(o,{actual:t,expected:n,operator:r},e.expect.fail)}}},{}],18:[function(require,module,exports){/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(t,n){function o(){function n(){return this instanceof String||this instanceof Number||this instanceof Boolean?new e(this.valueOf(),null,n):new e(this,null,n)}function o(t){Object.defineProperty(this,"should",{value:t,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:o,get:n,configurable:!0});var i={};return i.fail=function(n,o,e,r){throw e=e||"should.fail()",new t.AssertionError(e,{actual:n,expected:o,operator:r},i.fail)},i.equal=function(t,n,o){new e(t,o).to.equal(n)},i.Throw=function(t,n,o,i){new e(t,i).to.Throw(n,o)},i.exist=function(t,n){new e(t,n).to.exist},i.not={},i.not.equal=function(t,n,o){new e(t,o).to.not.equal(n)},i.not.Throw=function(t,n,o,i){new e(t,i).to.not.Throw(n,o)},i.not.exist=function(t,n){new e(t,n).to.not.exist},i.throw=i.Throw,i.not.throw=i.not.Throw,i}var e=t.Assertion;t.should=o,t.Should=o}},{}],19:[function(require,module,exports){/*!
 * Chai - addChainingMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var transferFlags=require("./transferFlags"),flag=require("./flag"),config=require("../config"),hasProtoSupport="__proto__"in Object,excludeNames=/^(?:length|name|arguments|caller)$/,call=Function.prototype.call,apply=Function.prototype.apply;module.exports=function(e,t,r,a){"function"!=typeof a&&(a=function(){});var o={method:r,chainingBehavior:a};e.__methods||(e.__methods={}),e.__methods[t]=o,Object.defineProperty(e,t,{get:function(){o.chainingBehavior.call(this);var t=function e(){var t=flag(this,"ssfi");t&&config.includeStack===!1&&flag(this,"ssfi",e);var r=o.method.apply(this,arguments);return void 0===r?this:r};if(hasProtoSupport){var r=t.__proto__=Object.create(this);r.call=call,r.apply=apply}else{var a=Object.getOwnPropertyNames(e);a.forEach(function(r){if(!excludeNames.test(r)){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,a)}})}return transferFlags(this,t),t},configurable:!0})}},{"../config":14,"./flag":23,"./transferFlags":39}],20:[function(require,module,exports){/*!
 * Chai - addMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var config=require("../config"),flag=require("./flag");module.exports=function(i,f,r){i[f]=function(){var a=flag(this,"ssfi");a&&config.includeStack===!1&&flag(this,"ssfi",i[f]);var n=r.apply(this,arguments);return void 0===n?this:n}}},{"../config":14,"./flag":23}],21:[function(require,module,exports){/*!
 * Chai - addProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var config=require("../config"),flag=require("./flag");module.exports=function(i,e,f){Object.defineProperty(i,e,{get:function i(){var e=flag(this,"ssfi");e&&config.includeStack===!1&&flag(this,"ssfi",i);var r=f.call(this);return void 0===r?this:r},configurable:!0})}},{"../config":14,"./flag":23}],22:[function(require,module,exports){/*!
 * Chai - expectTypes utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var AssertionError=require("assertion-error"),flag=require("./flag"),type=require("type-detect");module.exports=function(e,r){var e=flag(e,"object");r=r.map(function(e){return e.toLowerCase()}),r.sort();var t=r.map(function(e,t){var o=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an":"a",n=r.length>1&&t===r.length-1?"or ":"";return n+o+" "+e}).join(", ");if(!r.some(function(r){return type(e)===r}))throw new AssertionError("object tested must be "+t+", but "+type(e)+" given")}},{"./flag":23,"assertion-error":40,"type-detect":45}],23:[function(require,module,exports){/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(e,l,t){var n=e.__flags||(e.__flags=Object.create(null));return 3!==arguments.length?n[l]:void(n[l]=t)}},{}],24:[function(require,module,exports){/*!
 * Chai - getActual utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(e,n){return n.length>4?n[4]:e._obj}},{}],25:[function(require,module,exports){/*!
 * Chai - getEnumerableProperties utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(r){var n=[];for(var o in r)n.push(o);return n}},{}],26:[function(require,module,exports){/*!
 * Chai - message composition utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependancies
 */
var flag=require("./flag"),getActual=require("./getActual"),inspect=require("./inspect"),objDisplay=require("./objDisplay");module.exports=function(e,t){var r=flag(e,"negate"),a=flag(e,"object"),i=t[3],l=getActual(e,t),n=r?t[2]:t[1],u=flag(e,"message");return"function"==typeof n&&(n=n()),n=n||"",n=n.replace(/#\{this\}/g,function(){return objDisplay(a)}).replace(/#\{act\}/g,function(){return objDisplay(l)}).replace(/#\{exp\}/g,function(){return objDisplay(i)}),u?u+": "+n:n}},{"./flag":23,"./getActual":24,"./inspect":33,"./objDisplay":34}],27:[function(require,module,exports){/*!
 * Chai - getName utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(e){if(e.name)return e.name;var n=/^\s?function ([^(]*)\(/.exec(e);return n&&n[1]?n[1]:""}},{}],28:[function(require,module,exports){/*!
 * Chai - getPathInfo utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * ## parsePath(path)
 *
 * Helper function used to parse string object
 * paths. Use in conjunction with `_getPathValue`.
 *
 *      var parsed = parsePath('myobject.property.subprop');
 *
 * ### Paths:
 *
 * * Can be as near infinitely deep and nested
 * * Arrays are also valid using the formal `myobject.document[3].property`.
 * * Literal dots and brackets (not delimiter) must be backslash-escaped.
 *
 * @param {String} path
 * @returns {Object} parsed
 * @api private
 */
function parsePath(e){var r=e.replace(/([^\\])\[/g,"$1.["),a=r.match(/(\\\.|[^.]+?)+/g);return a.map(function(e){var r=/^\[(\d+)\]$/,a=r.exec(e);return a?{i:parseFloat(a[1])}:{p:e.replace(/\\([.\[\]])/g,"$1")}})}/*!
 * ## _getPathValue(parsed, obj)
 *
 * Helper companion function for `.parsePath` that returns
 * the value located at the parsed address.
 *
 *      var value = getPathValue(parsed, obj);
 *
 * @param {Object} parsed definition from `parsePath`.
 * @param {Object} object to search against
 * @param {Number} object to search against
 * @returns {Object|Undefined} value
 * @api private
 */
function _getPathValue(e,r,a){var t,n=r;a=void 0===a?e.length:a;for(var p=0,u=a;p<u;p++){var o=e[p];n?("undefined"!=typeof o.p?n=n[o.p]:"undefined"!=typeof o.i&&(n=n[o.i]),p==u-1&&(t=n)):t=void 0}return t}var hasProperty=require("./hasProperty");module.exports=function(e,r){var a=parsePath(e),t=a[a.length-1],n={parent:a.length>1?_getPathValue(a,r,a.length-1):r,name:t.p||t.i,value:_getPathValue(a,r)};return n.exists=hasProperty(n.name,n.parent),n}},{"./hasProperty":31}],29:[function(require,module,exports){/*!
 * Chai - getPathValue utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * @see https://github.com/logicalparadox/filtr
 * MIT Licensed
 */
var getPathInfo=require("./getPathInfo");module.exports=function(e,t){var r=getPathInfo(e,t);return r.value}},{"./getPathInfo":28}],30:[function(require,module,exports){/*!
 * Chai - getProperties utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(e){function t(e){o.indexOf(e)===-1&&o.push(e)}for(var o=Object.getOwnPropertyNames(e),r=Object.getPrototypeOf(e);null!==r;)Object.getOwnPropertyNames(r).forEach(t),r=Object.getPrototypeOf(r);return o}},{}],31:[function(require,module,exports){/*!
 * Chai - hasProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var type=require("type-detect"),literals={number:Number,string:String};module.exports=function(e,t){var r=type(t);return"null"!==r&&"undefined"!==r&&(literals[r]&&"object"!=typeof t&&(t=new literals[r](t)),e in t)}},{"type-detect":45}],32:[function(require,module,exports){/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Main exports
 */
var exports=module.exports={};/*!
 * test utility
 */
exports.test=require("./test"),/*!
 * type utility
 */
exports.type=require("type-detect"),/*!
 * expectTypes utility
 */
exports.expectTypes=require("./expectTypes"),/*!
 * message utility
 */
exports.getMessage=require("./getMessage"),/*!
 * actual utility
 */
exports.getActual=require("./getActual"),/*!
 * Inspect util
 */
exports.inspect=require("./inspect"),/*!
 * Object Display util
 */
exports.objDisplay=require("./objDisplay"),/*!
 * Flag utility
 */
exports.flag=require("./flag"),/*!
 * Flag transferring utility
 */
exports.transferFlags=require("./transferFlags"),/*!
 * Deep equal utility
 */
exports.eql=require("deep-eql"),/*!
 * Deep path value
 */
exports.getPathValue=require("./getPathValue"),/*!
 * Deep path info
 */
exports.getPathInfo=require("./getPathInfo"),/*!
 * Check if a property exists
 */
exports.hasProperty=require("./hasProperty"),/*!
 * Function name
 */
exports.getName=require("./getName"),/*!
 * add Property
 */
exports.addProperty=require("./addProperty"),/*!
 * add Method
 */
exports.addMethod=require("./addMethod"),/*!
 * overwrite Property
 */
exports.overwriteProperty=require("./overwriteProperty"),/*!
 * overwrite Method
 */
exports.overwriteMethod=require("./overwriteMethod"),/*!
 * Add a chainable method
 */
exports.addChainableMethod=require("./addChainableMethod"),/*!
 * Overwrite chainable method
 */
exports.overwriteChainableMethod=require("./overwriteChainableMethod")},{"./addChainableMethod":19,"./addMethod":20,"./addProperty":21,"./expectTypes":22,"./flag":23,"./getActual":24,"./getMessage":26,"./getName":27,"./getPathInfo":28,"./getPathValue":29,"./hasProperty":31,"./inspect":33,"./objDisplay":34,"./overwriteChainableMethod":35,"./overwriteMethod":36,"./overwriteProperty":37,"./test":38,"./transferFlags":39,"deep-eql":41,"type-detect":45}],33:[function(require,module,exports){function inspect(e,t,r,n){var i={showHidden:t,seen:[],stylize:function(e){return e}};return formatValue(i,e,"undefined"==typeof r?2:r)}function formatValue(e,t,r){if(t&&"function"==typeof t.inspect&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r);return"string"!=typeof n&&(n=formatValue(e,n,r)),n}var i=formatPrimitive(e,t);if(i)return i;if(isDOMElement(t)){if("outerHTML"in t)return t.outerHTML;try{if(document.xmlVersion){var o=new XMLSerializer;return o.serializeToString(t)}var a="http://www.w3.org/1999/xhtml",u=document.createElementNS(a,"_");return u.appendChild(t.cloneNode(!1)),html=u.innerHTML.replace("><",">"+t.innerHTML+"<"),u.innerHTML="",html}catch(e){}}var l=getEnumerableProperties(t),c=e.showHidden?getProperties(t):l;if(0===c.length||isError(t)&&(1===c.length&&"stack"===c[0]||2===c.length&&"description"===c[0]&&"stack"===c[1])){if("function"==typeof t){var p=getName(t),s=p?": "+p:"";return e.stylize("[Function"+s+"]","special")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(isDate(t))return e.stylize(Date.prototype.toUTCString.call(t),"date");if(isError(t))return formatError(t)}var f="",g=!1,y=["{","}"];if(isArray(t)&&(g=!0,y=["[","]"]),"function"==typeof t){var p=getName(t),s=p?": "+p:"";f=" [Function"+s+"]"}if(isRegExp(t)&&(f=" "+RegExp.prototype.toString.call(t)),isDate(t)&&(f=" "+Date.prototype.toUTCString.call(t)),isError(t))return formatError(t);if(0===c.length&&(!g||0==t.length))return y[0]+f+y[1];if(r<0)return isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var m;return m=g?formatArray(e,t,r,l,c):c.map(function(n){return formatProperty(e,t,r,l,n,g)}),e.seen.pop(),reduceToSingleString(m,f,y)}function formatPrimitive(e,t){switch(typeof t){case"undefined":return e.stylize("undefined","undefined");case"string":var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string");case"number":return 0===t&&1/t===-(1/0)?e.stylize("-0","number"):e.stylize(""+t,"number");case"boolean":return e.stylize(""+t,"boolean")}if(null===t)return e.stylize("null","null")}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,r,n,i){for(var o=[],a=0,u=t.length;a<u;++a)Object.prototype.hasOwnProperty.call(t,String(a))?o.push(formatProperty(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,t,r,n,i,!0))}),o}function formatProperty(e,t,r,n,i,o){var a,u;if(t.__lookupGetter__&&(t.__lookupGetter__(i)?u=t.__lookupSetter__(i)?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.__lookupSetter__(i)&&(u=e.stylize("[Setter]","special"))),n.indexOf(i)<0&&(a="["+i+"]"),u||(e.seen.indexOf(t[i])<0?(u=null===r?formatValue(e,t[i],null):formatValue(e,t[i],r-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),"undefined"==typeof a){if(o&&i.match(/^\d+$/))return u;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function reduceToSingleString(e,t,r){var n=0,i=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.length+1},0);return i>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function isArray(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===objectToString(e)}function isRegExp(e){return"object"==typeof e&&"[object RegExp]"===objectToString(e)}function isDate(e){return"object"==typeof e&&"[object Date]"===objectToString(e)}function isError(e){return"object"==typeof e&&"[object Error]"===objectToString(e)}function objectToString(e){return Object.prototype.toString.call(e)}var getName=require("./getName"),getProperties=require("./getProperties"),getEnumerableProperties=require("./getEnumerableProperties");module.exports=inspect;var isDOMElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}},{"./getEnumerableProperties":25,"./getName":27,"./getProperties":30}],34:[function(require,module,exports){/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependancies
 */
var inspect=require("./inspect"),config=require("../config");module.exports=function(e){var n=inspect(e),t=Object.prototype.toString.call(e);if(config.truncateThreshold&&n.length>=config.truncateThreshold){if("[object Function]"===t)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===t)return"[ Array("+e.length+") ]";if("[object Object]"===t){var r=Object.keys(e),c=r.length>2?r.splice(0,2).join(", ")+", ...":r.join(", ");return"{ Object ("+c+") }"}return n}return n}},{"../config":14,"./inspect":33}],35:[function(require,module,exports){/*!
 * Chai - overwriteChainableMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(i,t,n,o){var h=i.__methods[t],r=h.chainingBehavior;h.chainingBehavior=function(){var i=o(r).call(this);return void 0===i?this:i};var a=h.method;h.method=function(){var i=n(a).apply(this,arguments);return void 0===i?this:i}}},{}],36:[function(require,module,exports){/*!
 * Chai - overwriteMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(t,n,i){var o=t[n],r=function(){return this};o&&"function"==typeof o&&(r=o),t[n]=function(){var t=i(r).apply(this,arguments);return void 0===t?this:t}}},{}],37:[function(require,module,exports){/*!
 * Chai - overwriteProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(t,e,n){var o=Object.getOwnPropertyDescriptor(t,e),r=function(){};o&&"function"==typeof o.get&&(r=o.get),Object.defineProperty(t,e,{get:function(){var t=n(r).call(this);return void 0===t?this:t},configurable:!0})}},{}],38:[function(require,module,exports){/*!
 * Chai - test utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependancies
 */
var flag=require("./flag");module.exports=function(e,r){var a=flag(e,"negate"),f=r[0];return a?!f:f}},{"./flag":23}],39:[function(require,module,exports){/*!
 * Chai - transferFlags utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(e,l,a){var s=e.__flags||(e.__flags=Object.create(null));l.__flags||(l.__flags=Object.create(null)),a=3!==arguments.length||a;for(var _ in s)(a||"object"!==_&&"ssfi"!==_&&"message"!=_)&&(l.__flags[_]=s[_])}},{}],40:[function(require,module,exports){/*!
 * assertion-error
 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
 * MIT Licensed
 */
/*!
 * Return a function that will copy properties from
 * one object to another excluding any originally
 * listed. Returned function will create a new `{}`.
 *
 * @param {String} excluded properties ...
 * @return {Function}
 */
function exclude(){function r(r,o){Object.keys(o).forEach(function(e){~t.indexOf(e)||(r[e]=o[e])})}var t=[].slice.call(arguments);return function(){for(var t=[].slice.call(arguments),o=0,e={};o<t.length;o++)r(e,t[o]);return e}}function AssertionError(r,t,o){var e=exclude("name","message","stack","constructor","toJSON"),s=e(t||{});this.message=r||"Unspecified AssertionError",this.showDiff=!1;for(var c in s)this[c]=s[c];if(o=o||arguments.callee,o&&Error.captureStackTrace)Error.captureStackTrace(this,o);else try{throw new Error}catch(r){this.stack=r.stack}}/*!
 * Primary Exports
 */
module.exports=AssertionError,/*!
 * Inherit from Error.prototype
 */
AssertionError.prototype=Object.create(Error.prototype),/*!
 * Statically set name
 */
AssertionError.prototype.name="AssertionError",/*!
 * Ensure correct constructor
 */
AssertionError.prototype.constructor=AssertionError,AssertionError.prototype.toJSON=function(r){var t=exclude("constructor","toJSON","stack"),o=t({name:this.name},this);return!1!==r&&this.stack&&(o.stack=this.stack),o}},{}],41:[function(require,module,exports){module.exports=require("./lib/eql")},{"./lib/eql":42}],42:[function(require,module,exports){/*!
 * deep-eql
 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
function deepEqual(e,r,t){return!!sameValue(e,r)||("date"===type(e)?dateEqual(e,r):"regexp"===type(e)?regexpEqual(e,r):Buffer.isBuffer(e)?bufferEqual(e,r):"arguments"===type(e)?argumentsEqual(e,r,t):!!typeEqual(e,r)&&("object"!==type(e)&&"object"!==type(r)&&"array"!==type(e)&&"array"!==type(r)?sameValue(e,r):objectEqual(e,r,t)))}/*!
 * Strict (egal) equality test. Ensures that NaN always
 * equals NaN and `-0` does not equal `+0`.
 *
 * @param {Mixed} a
 * @param {Mixed} b
 * @return {Boolean} equal match
 */
function sameValue(e,r){return e===r?0!==e||1/e===1/r:e!==e&&r!==r}/*!
 * Compare the types of two given objects and
 * return if they are equal. Note that an Array
 * has a type of `array` (not `object`) and arguments
 * have a type of `arguments` (not `array`/`object`).
 *
 * @param {Mixed} a
 * @param {Mixed} b
 * @return {Boolean} result
 */
function typeEqual(e,r){return type(e)===type(r)}/*!
 * Compare two Date objects by asserting that
 * the time values are equal using `saveValue`.
 *
 * @param {Date} a
 * @param {Date} b
 * @return {Boolean} result
 */
function dateEqual(e,r){return"date"===type(r)&&sameValue(e.getTime(),r.getTime())}/*!
 * Compare two regular expressions by converting them
 * to string and checking for `sameValue`.
 *
 * @param {RegExp} a
 * @param {RegExp} b
 * @return {Boolean} result
 */
function regexpEqual(e,r){return"regexp"===type(r)&&sameValue(e.toString(),r.toString())}/*!
 * Assert deep equality of two `arguments` objects.
 * Unfortunately, these must be sliced to arrays
 * prior to test to ensure no bad behavior.
 *
 * @param {Arguments} a
 * @param {Arguments} b
 * @param {Array} memoize (optional)
 * @return {Boolean} result
 */
function argumentsEqual(e,r,t){return"arguments"===type(r)&&(e=[].slice.call(e),r=[].slice.call(r),deepEqual(e,r,t))}/*!
 * Get enumerable properties of a given object.
 *
 * @param {Object} a
 * @return {Array} property names
 */
function enumerable(e){var r=[];for(var t in e)r.push(t);return r}/*!
 * Simple equality for flat iterable objects
 * such as Arrays or Node.js buffers.
 *
 * @param {Iterable} a
 * @param {Iterable} b
 * @return {Boolean} result
 */
function iterableEqual(e,r){if(e.length!==r.length)return!1;for(var t=0,u=!0;t<e.length;t++)if(e[t]!==r[t]){u=!1;break}return u}/*!
 * Extension to `iterableEqual` specifically
 * for Node.js Buffers.
 *
 * @param {Buffer} a
 * @param {Mixed} b
 * @return {Boolean} result
 */
function bufferEqual(e,r){return!!Buffer.isBuffer(r)&&iterableEqual(e,r)}/*!
 * Block for `objectEqual` ensuring non-existing
 * values don't get in.
 *
 * @param {Mixed} object
 * @return {Boolean} result
 */
function isValue(e){return null!==e&&void 0!==e}/*!
 * Recursively check the equality of two objects.
 * Once basic sameness has been established it will
 * defer to `deepEqual` for each enumerable key
 * in the object.
 *
 * @param {Mixed} a
 * @param {Mixed} b
 * @return {Boolean} result
 */
function objectEqual(e,r,t){if(!isValue(e)||!isValue(r))return!1;if(e.prototype!==r.prototype)return!1;var u;if(t){for(u=0;u<t.length;u++)if(t[u][0]===e&&t[u][1]===r||t[u][0]===r&&t[u][1]===e)return!0}else t=[];try{var a=enumerable(e),n=enumerable(r)}catch(e){return!1}if(a.sort(),n.sort(),!iterableEqual(a,n))return!1;t.push([e,r]);var f;for(u=a.length-1;u>=0;u--)if(f=a[u],!deepEqual(e[f],r[f],t))return!1;return!0}var type=require("type-detect"),Buffer;try{Buffer=require("buffer").Buffer}catch(e){Buffer={},Buffer.isBuffer=function(){return!1}}/*!
 * Primary Export
 */
module.exports=deepEqual},{buffer:50,"type-detect":43}],43:[function(require,module,exports){module.exports=require("./lib/type")},{"./lib/type":44}],44:[function(require,module,exports){/*!
 * type-detect
 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Primary Exports
 */
function getType(t){var e=Object.prototype.toString.call(t);return natives[e]?natives[e]:null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}function Library(){this.tests={}}var exports=module.exports=getType,natives={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};exports.Library=Library,Library.prototype.of=getType,Library.prototype.define=function(t,e){return 1===arguments.length?this.tests[t]:(this.tests[t]=e,this)},Library.prototype.test=function(t,e){if(e===getType(t))return!0;var r=this.tests[e];if(r&&"regexp"===getType(r))return r.test(t);if(r&&"function"===getType(r))return r(t);throw new ReferenceError('Type test "'+e+'" not defined or invalid.')}},{}],45:[function(require,module,exports){arguments[4][43][0].apply(exports,arguments)},{"./lib/type":46,dup:43}],46:[function(require,module,exports){/*!
 * type-detect
 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Primary Exports
 */
function getType(e){var t=Object.prototype.toString.call(e).match(objectTypeRegexp)[1].toLowerCase();return"function"==typeof Promise&&e instanceof Promise?"promise":null===e?"null":void 0===e?"undefined":t}function Library(){return this instanceof Library?void(this.tests={}):new Library}var exports=module.exports=getType,objectTypeRegexp=/^\[object (.*)\]$/;exports.Library=Library,Library.prototype.of=getType,Library.prototype.define=function(e,t){return 1===arguments.length?this.tests[e]:(this.tests[e]=t,this)},Library.prototype.test=function(e,t){if(t===getType(e))return!0;var r=this.tests[t];if(r&&"regexp"===getType(r))return r.test(e);if(r&&"function"===getType(r))return r(e);throw new ReferenceError('Type test "'+t+'" not defined or invalid.')}},{}],47:[function(require,module,exports){!function(){"use strict";function t(i,e,n,s){return this instanceof t?(this.domain=i||void 0,this.path=e||"/",this.secure=!!n,this.script=!!s,this):new t(i,e,n,s)}function i(t,e,n){return t instanceof i?t:this instanceof i?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(n||"/"),this.explicit_path=!1,this.domain=e||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,t&&this.parse(t,e,n),this):new i(t,e,n)}function e(){var t,n,s;return this instanceof e?(t=Object.create(null),this.setCookie=function(e,r,a){var o,h;if(e=new i(e,r,a),o=e.expiration_date<=Date.now(),void 0!==t[e.name]){for(n=t[e.name],h=0;h<n.length;h+=1)if(s=n[h],s.collidesWith(e))return o?(n.splice(h,1),0===n.length&&delete t[e.name],!1):(n[h]=e,e);return!o&&(n.push(e),e)}return!o&&(t[e.name]=[e],t[e.name])},this.getCookie=function(i,e){var s,r;if(n=t[i])for(r=0;r<n.length;r+=1)if(s=n[r],s.expiration_date<=Date.now())0===n.length&&delete t[s.name];else if(s.matches(e))return s},this.getCookies=function(i){var e,n,s=[];for(e in t)n=this.getCookie(e,i),n&&s.push(n);return s.toString=function(){return s.join(":")},s.toValueString=function(){return s.map(function(t){return t.toValueString()}).join(";")},s},this):new e}t.All=Object.freeze(Object.create(null)),exports.CookieAccessInfo=t,exports.Cookie=i,i.prototype.toString=function(){var t=[this.name+"="+this.value];return this.expiration_date!==1/0&&t.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&t.push("domain="+this.domain),this.path&&t.push("path="+this.path),this.secure&&t.push("secure"),this.noscript&&t.push("httponly"),t.join("; ")},i.prototype.toValueString=function(){return this.name+"="+this.value};var n=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;i.prototype.parse=function(t,e,n){if(this instanceof i){var s,r=t.split(";").filter(function(t){return!!t}),a=r[0].match(/([^=]+)=([\s\S]*)/),o=a[1],h=a[2];for(this.name=o,this.value=h,s=1;s<r.length;s+=1)switch(a=r[s].match(/([^=]+)(?:=([\s\S]*))?/),o=a[1].trim().toLowerCase(),h=a[2],o){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=h?Number(Date.parse(h)):1/0;break;case"path":this.path=h?h.trim():"",this.explicit_path=!0;break;case"domain":this.domain=h?h.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0}return this.explicit_path||(this.path=n||"/"),this.explicit_domain||(this.domain=e),this}return(new i).parse(t,e,n)},i.prototype.matches=function(i){return i===t.All||!(this.noscript&&i.script||this.secure&&!i.secure||!this.collidesWith(i))},i.prototype.collidesWith=function(t){if(this.path&&!t.path||this.domain&&!t.domain)return!1;if(this.path&&0!==t.path.indexOf(this.path))return!1;if(this.explicit_path&&0!==t.path.indexOf(this.path))return!1;var i=t.domain&&t.domain.replace(/^[\.]/,""),e=this.domain&&this.domain.replace(/^[\.]/,"");if(e===i)return!0;if(e){if(!this.explicit_domain)return!1;var n=i.indexOf(e);return n!==-1&&n===i.length-e.length}return!0},exports.CookieJar=e,e.prototype.setCookies=function(t,e,s){t=Array.isArray(t)?t:t.split(n);var r,a,o=[];for(t=t.map(function(t){return new i(t,e,s)}),r=0;r<t.length;r+=1)a=t[r],this.setCookie(a,e,s)&&o.push(a);return o}}()},{}],48:[function(require,module,exports){"use strict";var ipRegex=require("ip-regex"),ip=module.exports=function(e){return ipRegex({exact:!0}).test(e)};ip.v4=function(e){return ipRegex.v4({exact:!0}).test(e)},ip.v6=function(e){return ipRegex.v6({exact:!0}).test(e)}},{"ip-regex":49}],49:[function(require,module,exports){"use strict";var v4="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}",v6="(?:(?:[0-9a-fA-F:]){1,4}(?:(?::(?:[0-9a-fA-F]){1,4}|:)){2,7})+",ip=module.exports=function(e){return e=e||{},e.exact?new RegExp("(?:^"+v4+"$)|(?:^"+v6+"$)"):new RegExp("(?:"+v4+")|(?:"+v6+")","g")};ip.v4=function(e){return e=e||{},e.exact?new RegExp("^"+v4+"$"):new RegExp(v4,"g")},ip.v6=function(e){return e=e||{},e.exact?new RegExp("^"+v6+"$"):new RegExp(v6,"g")}},{}],50:[function(require,module,exports){(function(global){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
"use strict";function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=Buffer.prototype):(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,e,r)}function from(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?fromArrayBuffer(t,e,r,n):"string"==typeof e?fromString(t,e,r):fromObject(t,e)}function assertSize(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function alloc(t,e,r,n){return assertSize(e),e<=0?createBuffer(t,e):void 0!==r?"string"==typeof n?createBuffer(t,e).fill(r,n):createBuffer(t,e).fill(r):createBuffer(t,e)}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function fromString(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(e,r);t=createBuffer(t,n);var f=t.write(e,r);return f!==n&&(t=t.slice(0,f)),t}function fromArrayLike(t,e){var r=e.length<0?0:0|checked(e.length);t=createBuffer(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function fromArrayBuffer(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),Buffer.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=Buffer.prototype):t=fromArrayLike(t,e),t}function fromObject(t,e){if(Buffer.isBuffer(e)){var r=0|checked(e.length);return t=createBuffer(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||isnan(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&isArray(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function SlowBuffer(t){return+t!=t&&(t=0),Buffer.alloc(+t)}function byteLength(t,e){if(Buffer.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"latin1":case"binary":return latin1Slice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function swap(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function bidirectionalIndexOf(t,e,r,n,f){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=f?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(f)return-1;r=t.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof e&&(e=Buffer.from(e,n)),Buffer.isBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,r,n,f);if("number"==typeof e)return e&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):arrayIndexOf(t,[e],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,r,n,f){function i(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,u=t.length,s=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,u/=2,s/=2,r/=2}var a;if(f){var h=-1;for(a=r;a<u;a++)if(i(t,a)===i(e,h===-1?0:a-h)){if(h===-1&&(h=a),a-h+1===s)return h*o}else h!==-1&&(a-=a-h),h=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var c=!0,l=0;l<s;l++)if(i(t,a+l)!==i(e,l)){c=!1;break}if(c)return a}return-1}function hexWrite(t,e,r,n){r=Number(r)||0;var f=t.length-r;n?(n=Number(n),n>f&&(n=f)):n=f;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(e.substr(2*o,2),16);if(isNaN(u))return o;t[r+o]=u}return o}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(asciiToBytes(e),t,r,n)}function latin1Write(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(utf16leToBytes(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?base64.fromByteArray(t):base64.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],f=e;f<r;){var i=t[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=t[f+1],128===(192&s)&&(c=(31&i)<<6|63&s,c>127&&(o=c));break;case 3:s=t[f+1],a=t[f+2],128===(192&s)&&128===(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:s=t[f+1],a=t[f+2],h=t[f+3],128===(192&s)&&128===(192&a)&&128===(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(t){var e=t.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;++f)n+=String.fromCharCode(127&t[f]);return n}function latin1Slice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;++f)n+=String.fromCharCode(t[f]);return n}function hexSlice(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=e;i<r;++i)f+=toHex(t[i]);return f}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,f,i){if(!Buffer.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>f||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,r,n){e<0&&(e=65535+e+1);for(var f=0,i=Math.min(t.length-r,2);f<i;++f)t[r+f]=(e&255<<8*(n?f:1-f))>>>8*(n?f:1-f)}function objectWriteUInt32(t,e,r,n){e<0&&(e=4294967295+e+1);for(var f=0,i=Math.min(t.length-r,4);f<i;++f)t[r+f]=e>>>8*(n?f:3-f)&255}function checkIEEE754(t,e,r,n,f,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(t,e,r,n,f){return f||checkIEEE754(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,f){return f||checkIEEE754(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(t,e,r,n,52,8),r+8}function base64clean(t){if(t=stringtrim(t).replace(INVALID_BASE64_RE,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){e=e||1/0;for(var r,n=t.length,f=null,i=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!f){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),f=r;continue}r=(f-55296<<10|r-56320)+65536}else f&&(e-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function utf16leToBytes(t,e){for(var r,n,f,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(t){return base64.toByteArray(base64clean(t))}function blitBuffer(t,e,r,n){for(var f=0;f<n&&!(f+r>=e.length||f>=t.length);++f)e[f+r]=t[f];return f}function isnan(t){return t!==t}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,r){return from(null,t,e,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(t,e,r){return alloc(null,t,e,r)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=function(t){return!(null==t||!t._isBuffer)},Buffer.compare=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,f=0,i=Math.min(r,n);f<i;++f)if(t[f]!==e[f]){r=t[f],n=e[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Buffer.allocUnsafe(e),f=0;for(r=0;r<t.length;++r){var i=t[r];if(!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t,e,r,n,f){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),e<0||r>t.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&e>=r)return 0;if(n>=f)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,f>>>=0,this===t)return 0;for(var i=f-n,o=r-e,u=Math.min(i,o),s=this.slice(n,f),a=t.slice(e,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},Buffer.prototype.indexOf=function(t,e,r){return bidirectionalIndexOf(this,t,e,r,!0)},Buffer.prototype.lastIndexOf=function(t,e,r){return bidirectionalIndexOf(this,t,e,r,!1)},Buffer.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-e;if((void 0===r||r>f)&&(r=f),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"latin1":case"binary":return latin1Write(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n;if(Buffer.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=Buffer.prototype;else{var f=e-t;n=new Buffer(f,void 0);for(var i=0;i<f;++i)n[i]=this[i+t]}return n},Buffer.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return n},Buffer.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t+--e],f=1;e>0&&(f*=256);)n+=this[t+--e]*f;return n},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var n=e,f=1,i=this[t+--n];n>0&&(f*=256);)i+=this[t+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var f=Math.pow(2,8*r)-1;checkInt(this,t,e,r,f,0)}var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},Buffer.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){var f=Math.pow(2,8*r)-1;checkInt(this,t,e,r,f,0)}var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},Buffer.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=0,o=1,u=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var f,i=n-r;if(this===t&&r<e&&e<n)for(f=i-1;f>=0;--f)t[f+e]=this[f+r];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(f=0;f<i;++f)t[f+e]=this[f+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},Buffer.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var f=t.charCodeAt(0);f<256&&(t=f)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var i;if("number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var o=Buffer.isBuffer(t)?t:utf8ToBytes(new Buffer(t,n).toString()),u=o.length;for(i=0;i<r-e;++i)this[i+e]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":51,ieee754:52,isarray:53}],51:[function(require,module,exports){"use strict";function placeHoldersCount(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===o[r-2]?2:"="===o[r-1]?1:0}function byteLength(o){return 3*o.length/4-placeHoldersCount(o)}function toByteArray(o){var r,e,t,u,n,p,a=o.length;n=placeHoldersCount(o),p=new Arr(3*a/4-n),t=n>0?a-4:a;var l=0;for(r=0,e=0;r<t;r+=4,e+=3)u=revLookup[o.charCodeAt(r)]<<18|revLookup[o.charCodeAt(r+1)]<<12|revLookup[o.charCodeAt(r+2)]<<6|revLookup[o.charCodeAt(r+3)],p[l++]=u>>16&255,p[l++]=u>>8&255,p[l++]=255&u;return 2===n?(u=revLookup[o.charCodeAt(r)]<<2|revLookup[o.charCodeAt(r+1)]>>4,p[l++]=255&u):1===n&&(u=revLookup[o.charCodeAt(r)]<<10|revLookup[o.charCodeAt(r+1)]<<4|revLookup[o.charCodeAt(r+2)]>>2,p[l++]=u>>8&255,p[l++]=255&u),p}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,u=[],n=r;n<e;n+=3)t=(o[n]<<16)+(o[n+1]<<8)+o[n+2],u.push(tripletToBase64(t));return u.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,u="",n=[],p=16383,a=0,l=e-t;a<l;a+=p)n.push(encodeChunk(o,a,a+p>l?l:a+p));return 1===t?(r=o[e-1],u+=lookup[r>>2],u+=lookup[r<<4&63],u+="=="):2===t&&(r=(o[e-2]<<8)+o[e-1],u+=lookup[r>>10],u+=lookup[r>>4&63],u+=lookup[r<<2&63],u+="="),n.push(u),n.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],52:[function(require,module,exports){exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:(s?-1:1)*(1/0);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l}},{}],53:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(r){return"[object Array]"==toString.call(r)}},{}],54:[function(require,module,exports){(function(global){/*! https://mths.be/punycode v1.4.1 by @mathias */
!function(e){function o(e){throw new RangeError(T[e])}function n(e,o){for(var n=e.length,r=[];n--;)r[n]=o(e[n]);return r}function r(e,o){var r=e.split("@"),t="";r.length>1&&(t=r[0]+"@",e=r[1]),e=e.replace(S,".");var u=e.split("."),i=n(u,o).join(".");return t+i}function t(e){for(var o,n,r=[],t=0,u=e.length;t<u;)o=e.charCodeAt(t++),o>=55296&&o<=56319&&t<u?(n=e.charCodeAt(t++),56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)):r.push(o);return r}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:b}function f(e,o){return e+22+75*(e<26)-((0!=o)<<5)}function c(e,o,n){var r=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;r+=b)e=M(e/L);return M(r+(L+1)*e/(e+m))}function l(e){var n,r,t,f,l,s,d,a,p,h,v=[],g=e.length,w=0,m=I,j=A;for(r=e.lastIndexOf(E),r<0&&(r=0),t=0;t<r;++t)e.charCodeAt(t)>=128&&o("not-basic"),v.push(e.charCodeAt(t));for(f=r>0?r+1:0;f<g;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),a=i(e.charCodeAt(f++)),(a>=b||a>M((x-w)/s))&&o("overflow"),w+=a*s,p=d<=j?y:d>=j+C?C:d-j,!(a<p);d+=b)h=b-p,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,r,u,i,l,s,d,a,p,h,v,g,w,m,j,F=[];for(e=t(e),g=e.length,n=I,r=0,l=A,s=0;s<g;++s)v=e[s],v<128&&F.push(P(v));for(u=i=F.length,i&&F.push(E);u<g;){for(d=x,s=0;s<g;++s)v=e[s],v>=n&&v<d&&(d=v);for(w=u+1,d-n>M((x-r)/w)&&o("overflow"),r+=(d-n)*w,n=d,s=0;s<g;++s)if(v=e[s],v<n&&++r>x&&o("overflow"),v==n){for(a=r,p=b;h=p<=l?y:p>=l+C?C:p-l,!(a<h);p+=b)j=a-h,m=b-h,F.push(P(f(h+j%m,0))),a=M(j/m);F.push(P(f(a,0))),l=c(r,w,u==i),r=0,++u}++r,++n}return F.join("")}function d(e){return r(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return O.test(e)?"xn--"+s(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;v.global!==v&&v.window!==v&&v.self!==v||(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:t,encode:u},decode:l,encode:s,toASCII:a,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&h)if(module.exports==p)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else e.punycode=g}(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],55:[function(require,module,exports){"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;y<p;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)}},{}],56:[function(require,module,exports){"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e}},{}],57:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode")},{"./decode":55,"./encode":56}],58:[function(require,module,exports){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,s,e){if(t&&util.isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return util.isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}var punycode=require("punycode"),util=require("./util");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(t,s,e){if(!util.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t.indexOf("?"),r=h!==-1&&h<t.indexOf("#")?"?":"#",a=t.split(r),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(r);var n=t;if(n=n.trim(),!e&&1===t.split("#").length){var i=simplePathPattern.exec(n);if(i)return this.path=n,this.href=n,this.pathname=i[1],i[2]?(this.search=i[2],s?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):s&&(this.search="",this.query={}),this}var l=protocolPattern.exec(n);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,n=n.substr(l.length)}if(e||l||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===n.substr(0,2);!p||l&&hostlessProtocol[l]||(n=n.substr(2),this.slashes=!0)}if(!hostlessProtocol[l]&&(p||l&&!slashedProtocol[l])){for(var c=-1,f=0;f<hostEndingChars.length;f++){var m=n.indexOf(hostEndingChars[f]);m!==-1&&(c===-1||m<c)&&(c=m)}var v,g;g=c===-1?n.lastIndexOf("@"):n.lastIndexOf("@",c),g!==-1&&(v=n.slice(0,g),n=n.slice(g+1),this.auth=decodeURIComponent(v)),c=-1;for(var f=0;f<nonHostChars.length;f++){var m=n.indexOf(nonHostChars[f]);m!==-1&&(c===-1||m<c)&&(c=m)}c===-1&&(c=n.length),this.host=n.slice(0,c),n=n.slice(c),this.parseHost(),this.hostname=this.hostname||"";var y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!y)for(var P=this.hostname.split(/\./),f=0,d=P.length;f<d;f++){var q=P[f];if(q&&!q.match(hostnamePartPattern)){for(var b="",O=0,j=q.length;O<j;O++)b+=q.charCodeAt(O)>127?"x":q[O];if(!b.match(hostnamePartPattern)){var x=P.slice(0,f),U=P.slice(f+1),C=q.match(hostnamePartStart);C&&(x.push(C[1]),U.unshift(C[2])),U.length&&(n="/"+U.join(".")+n),this.hostname=x.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=punycode.toASCII(this.hostname));var A=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+A,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!unsafeProtocol[u])for(var f=0,d=autoEscape.length;f<d;f++){var E=autoEscape[f];if(n.indexOf(E)!==-1){var I=encodeURIComponent(E);I===E&&(I=escape(E)),n=n.split(E).join(I)}}var R=n.indexOf("#");R!==-1&&(this.hash=n.substr(R),n=n.slice(0,R));var S=n.indexOf("?");if(S!==-1?(this.search=n.substr(S),this.query=n.substr(S+1),s&&(this.query=querystring.parse(this.query)),n=n.slice(0,S)):s&&(this.search="",this.query={}),n&&(this.pathname=n),slashedProtocol[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var A=this.pathname||"",k=this.search||"";this.path=A+k}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,a="";this.host?r=t+this.host:this.hostname&&(r=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(a=querystring.stringify(this.query));var o=this.search||a&&"?"+a||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&r!==!1?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),o&&"?"!==o.charAt(0)&&(o="?"+o),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),s+r+e+o+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(util.isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}for(var e=new Url,h=Object.keys(this),r=0;r<h.length;r++){var a=h[r];e[a]=this[a]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n];"protocol"!==i&&(e[i]=t[i])}return slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var p=l[u];e[p]=t[p]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var f=e.pathname||"",m=e.search||"";e.path=f+m}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var v=e.pathname&&"/"===e.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=g||v||e.host&&t.pathname,P=y,d=e.pathname&&e.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],q=e.protocol&&!slashedProtocol[e.protocol];if(q&&(e.hostname="",e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),y=y&&(""===c[0]||""===d[0])),g)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,d=c;else if(c.length)d||(d=[]),d.pop(),d=d.concat(c),e.search=t.search,e.query=t.query;else if(!util.isNullOrUndefined(t.search)){if(q){e.hostname=e.host=d.shift();var b=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");b&&(e.auth=b.shift(),e.host=e.hostname=b.shift())}return e.search=t.search,e.query=t.query,util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!d.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var O=d.slice(-1)[0],j=(e.host||t.host||d.length>1)&&("."===O||".."===O)||""===O,x=0,U=d.length;U>=0;U--)O=d[U],"."===O?d.splice(U,1):".."===O?(d.splice(U,1),x++):x&&(d.splice(U,1),x--);if(!y&&!P)for(;x--;x)d.unshift("..");!y||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),j&&"/"!==d.join("/").substr(-1)&&d.push("");var C=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(q){e.hostname=e.host=C?"":d.length?d.shift():"";var b=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");b&&(e.auth=b.shift(),e.host=e.hostname=b.shift())}return y=y||e.host&&d.length,y&&!C&&d.unshift(""),d.length?e.pathname=d.join("/"):(e.pathname=null,e.path=null),util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)}},{"./util":59,punycode:54,querystring:57}],59:[function(require,module,exports){"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}}},{}]},{},[5])(5)});
//# sourceMappingURL=postman-bdd.min.js.map